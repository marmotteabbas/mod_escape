//On récupère un jeton user pour un étudiant qui doit etre inscrit au cours en question
http://localhost/moodle/login/token.php?username=user_2&service=moodle_mobile_app&password=sqduhsdukhsdq@
{"token":"55dee996d676c99fac3795ed71eaa8b4","privatetoken":null}



//on lance l'épreuve (chrono)
http://localhost/moodle/webservice/rest/server.php?moodlewsrestformat=json&escapeid=1&wsfunction=mod_escape_launch_attempt&wstoken=55dee996d676c99fac3795ed71eaa8b4&moodlewssettingfilter=true


// on check les pages pour savoir par laquelle commencer
http://localhost/moodle/webservice/rest/server.php?wstoken=55dee996d676c99fac3795ed71eaa8b4&wsfunction=mod_escape_get_pages&moodlewsrestformat=json&escapeid=1
{"pages":[{"page":{"id":1,"escapeid":1,"prevpageid":0,"nextpageid":2,"qtype":2,"qoption":0,"layout":0,"display":0,"timecreated":1608045519,"timemodified":0,"title":"vrai\/faux","contents":"<div class=\"no-overflow\"><p>ssqdsq<\/p><\/div>","contentsformat":1,"displayinmenublock":false,"type":0,"typeid":2,"typestring":"True\/false"},"answerids":[1,2],"jumps":[-1,0],"filescount":0,"filessizetotal":0},{"page":{"id":2,"escapeid":1,"prevpageid":1,"nextpageid":3,"qtype":277,"qoption":0,"layout":0,"display":0,"timecreated":1608129655,"timemodified":1608290765,"title":"Picture clicking","contents":"<div class=\"no-overflow\"><span id='intro_text_clicking_pix'>Mur<\/span><br \/><svg id=\"svg_viewer\" class=\"svg_viewer\" height=\"204\" width=\"534\" onclick=\"require('mod_escape\/img_manager').coordsandintro(event)\"><image xlink:href=\"http:\/\/localhost\/moodle\/pluginfile.php\/1404\/mod_escape\/page_contents\/2\/wall.png\" x=\"0\" y=\"0\" style=\"width: 534px;\"><\/image><circle cx=\"105\" cy=\"50.21875\" r=\"10\" stroke=\"#4b6c0b\" fill=\"#9dcc41\" class=\"puce\"><\/circle><circle cx=\"271\" cy=\"109.21875\" r=\"10\" stroke=\"#4b6c0b\" fill=\"#9dcc41\" class=\"puce\"><\/circle><\/svg><\/div>","contentsformat":1,"displayinmenublock":true,"type":1,"typeid":277,"typestring":"Clicking Picture"},"answerids":[3,4],"jumps":[-1,-40],"filescount":1,"filessizetotal":15084},{"page":{"id":3,"escapeid":1,"prevpageid":2,"nextpageid":4,"qtype":20,"qoption":0,"layout":1,"display":1,"timecreated":1608290271,"timemodified":0,"title":"contenu","contents":"<div class=\"no-overflow\"><p>le contenu<\/p><\/div>","contentsformat":1,"displayinmenublock":true,"type":1,"typeid":20,"typestring":"Content"},"answerids":[5,6],"jumps":[-1,-9],"filescount":0,"filessizetotal":0},{"page":{"id":4,"escapeid":1,"prevpageid":3,"nextpageid":5,"qtype":5,"qoption":0,"layout":0,"display":0,"timecreated":1608290403,"timemodified":0,"title":"matching","contents":"<div class=\"no-overflow\"><p>matichung<\/p><\/div>","contentsformat":1,"displayinmenublock":false,"type":0,"typeid":5,"typestring":"Matching"},"answerids":[7,8,9,10],"jumps":[-1,-1,0,0],"filescount":0,"filessizetotal":0},{"page":{"id":5,"escapeid":1,"prevpageid":4,"nextpageid":6,"qtype":8,"qoption":0,"layout":0,"display":0,"timecreated":1608290504,"timemodified":0,"title":"numerique","contents":"<div class=\"no-overflow\"><p>2+2 = ?<\/p><\/div>","contentsformat":1,"displayinmenublock":false,"type":0,"typeid":8,"typestring":"Numerical"},"answerids":[11,12],"jumps":[-1,-1],"filescount":0,"filessizetotal":0},{"page":{"id":6,"escapeid":1,"prevpageid":5,"nextpageid":7,"qtype":3,"qoption":0,"layout":0,"display":0,"timecreated":1608290610,"timemodified":0,"title":"multi","contents":"<div class=\"no-overflow\"><p>multi<\/p><\/div>","contentsformat":1,"displayinmenublock":false,"type":0,"typeid":3,"typestring":"Multichoice"},"answerids":[13,14,15],"jumps":[-1,-1,-1],"filescount":0,"filessizetotal":0},{"page":{"id":7,"escapeid":1,"prevpageid":6,"nextpageid":0,"qtype":1,"qoption":0,"layout":0,"display":0,"timecreated":1608290724,"timemodified":0,"title":"Short answer","contents":"<div class=\"no-overflow\"><p>short answer<\/p><\/div>","contentsformat":1,"displayinmenublock":false,"type":0,"typeid":1,"typestring":"Short answer"},"answerids":[16,17],"jumps":[-9,-9],"filescount":0,"filessizetotal":0}],"warnings":[]}


=
=


//On récupère le contenu de la page
http://localhost/moodle/webservice/rest/server.php?moodlewsrestformat=json&escapeid=1&pageid=1&returncontents=0&wsfunction=mod_escape_get_page_data&wstoken=55dee996d676c99fac3795ed71eaa8b4&moodlewssettingfilter=true
{"page":{"id":1,"escapeid":1,"prevpageid":0,"nextpageid":2,"qtype":2,"qoption":0,"layout":0,"display":0,"timecreated":1608045519,"timemodified":0,"title":"vrai\/faux","contents":"<div class=\"no-overflow\"><p>ssqdsq<\/p><\/div>","contentsformat":1,"displayinmenublock":false,"type":0,"typeid":2,"typestring":"True\/false"},"newpageid":1,"location":"[45.182252361910216,5.759153366088868]","ongoingscore":"","progress":null,"contentfiles":[],"answers":[{"id":1,"answerfiles":[],"responsefiles":[],"jumpto":-1,"grade":0,"score":1,"flags":0,"timecreated":1608045519,"timemodified":0,"answer":"<p>vrai<\/p>","answerformat":1,"response":"<p>vrai<br><\/p>","responseformat":1},{"id":2,"answerfiles":[],"responsefiles":[],"jumpto":0,"grade":0,"score":0,"flags":0,"timecreated":1608045519,"timemodified":0,"answer":"<p>faux<\/p>","answerformat":1,"response":"<p>faux<br><\/p>","responseformat":1}],"messages":[],"displaymenu":false,"warnings":[]}

//On récupère les réponses possible cette question
http://localhost/moodle/webservice/rest/server.php?moodlewsrestformat=json&pageid=1&cmid=1247&wsfunction=mod_escape_get_possible_answers_for_a_page&wstoken=d840606ab52aa8b27a9d906a38905a6a&moodlewssettingfilter=true
{"answers":[{"id":"1","escapeid":"1","answer":"<p>vrai<\/p>","jumpto":"-1"},{"id":"2","escapeid":"1","answer":"<p>faux<\/p>","jumpto":"0"}]}